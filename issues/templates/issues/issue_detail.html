{% extends '_base_admin_like.html' %}
{% block title %}Issue #{{ issue.id }}{% endblock %}
{% block breadcrumbs %}<a href="/">/Home</a> &rsaquo; <a href="{% url 'issues:home' %}">/Issues</a> &rsaquo; #{{ issue.id }}{% endblock %}
{% block content %}
<h1>Issue #{{ issue.id }} — {{ issue.title|default:'(no title)' }}</h1>

<div class="module">
  <h2>Summary</h2>
  <div class="aligned">
    <p><strong>Status:</strong> {{ issue.get_status_display|default:issue.status }}</p>
    <p><strong>Priority:</strong> {{ issue.get_priority_display|default:issue.priority }}</p>
    <p><strong>Created:</strong> {{ issue.created_at|date:"Y-m-d H:i"|default:"-" }}</p>
    <p><strong>Updated:</strong> {{ issue.updated_at|date:"Y-m-d H:i"|default:"-" }}</p>
    <p><strong>Assigned To:</strong>
      {% if issue.assigned_to %}{{ issue.assigned_to.get_full_name|default:issue.assigned_to.username }}{% else %}-{% endif %}
    </p>
    <p><strong>Reporter:</strong>
      {% if issue.reporter %}{{ issue.reporter.get_full_name|default:issue.reporter.username }}{% else %}-{% endif %}
    </p>
    <p><strong>SLA Due:</strong>
      {% if issue.sla_due_at %}
        {{ issue.sla_due_at|date:"Y-m-d H:i" }}
        {% if issue.due_label %}
          {% if issue.due_style == 'danger' %}
            — Overdue: {{ issue.due_label }}
          {% else %}
            — Due in {{ issue.due_label }}
          {% endif %}
        {% endif %}
      {% else %}--{% endif %}
    </p>
  </div>
</div>

<div class="module">
  <h2>Description</h2>
  <div class="card">
    <p>{{ issue.description|default:"-" }}</p>
  </div>
</div>

<div class="module">
  <h2>Actions</h2>
  <a class="btn secondary" href="{% url 'issues:home' %}">← Back to list</a>
</div>
{% endblock %}
